language: node_js
before_script:
  - npx danger ci
  - npm run bootstrap
  - npm run build
script: echo "Skip"
# before_deploy:
#   - git config --local user.name "Airbnb Release Bot"
#   - git config --local user.email "airbnb-cli-bot@airbnb.com"
matrix:
  fast_finish: true
  allow_failures:
    - node_js: 'node'
jobs:
  include:
    - name: Jest @ 8
      script: npm run jest:coverage -- -w 4
      node_js: '8'
    - name: Jest @ 10
      script: npm run jest:coverage -- -w 4
      node_js: '10'
    - name: ESLint @ 8
      script: npm run lint:errors
      node_js: '8'
    - name: ESLint @ 10
      script: npm run lint:errors
      node_js: '10'
deploy:
  - provider: script
    script: npm run deploy:ghp
    skip_cleanup: true
    on:
      branch: master
      node_js: '10'
# - provider: script
#   script: npm run deploy:release
#   skip_cleanup: true
#   on:
#     branch: master
#     node_js: '10'
